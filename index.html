<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Unisound - Ваша музыка. Ваши правила.</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; background-color: #050911; color: #e6edf3; overflow-x: hidden; -webkit-tap-highlight-color: transparent; }
    .glow-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; overflow: hidden; }
    .glow-overlay::before, .glow-overlay::after { content: ''; position: absolute; width: clamp(300px, 40vw, 800px); height: clamp(300px, 40vw, 800px); border-radius: 50%; filter: blur(90px); opacity: 0.15; will-change: transform; }
    .glow-overlay::before { background: radial-gradient(circle, #3b82f6, transparent 70%); top: -10%; left: -10%; animation: 25s infinite alternate glow-move; }
    .glow-overlay::after { background: radial-gradient(circle, #8b5cf6, transparent 70%); bottom: -10%; right: -10%; animation: 30s infinite alternate glow-move-alt; }
    @keyframes glow-move { from { transform: translate(0, 0) scale(1); } to { transform: translate(10vw, 10vh) scale(1.1); } }
    @keyframes glow-move-alt { from { transform: translate(0, 0) scale(1); } to { transform: translate(-10vw, -10vh) scale(0.9); } }
    .noise-overlay { position: fixed; inset: 0; z-index: -2; pointer-events: none; opacity: 0.035; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='1'/%3E%3C/svg%3E"); }
    .grid-overlay { position: fixed; inset: 0; z-index: -3; pointer-events: none; background-size: 40px 40px; background-image: linear-gradient(to right, rgba(255, 255, 255, 0.02) 1px, transparent 1px), linear-gradient(to bottom, rgba(255, 255, 255, 0.02) 1px, transparent 1px); mask-image: radial-gradient(ellipse at center, black 40%, transparent 100%); -webkit-mask-image: radial-gradient(ellipse at center, black 40%, transparent 100%); }
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: #050911; }
    ::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 3px; }
    .text-gradient { background: linear-gradient(135deg, #60a5fa 0%, #c084fc 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
    @media (hover: hover) and (pointer: fine) {
      body { cursor: none; }
      a, button, [role="button"] { cursor: none; }
      .cursor-dot, .cursor-outline { position: fixed; top: 0; left: 0; transform: translate(-50%, -50%); border-radius: 50%; z-index: 9999; pointer-events: none; }
      .cursor-dot { width: 8px; height: 8px; background-color: white; box-shadow: 0 0 10px rgba(255,255,255,0.5); }
      .cursor-outline { width: 40px; height: 40px; border: 1px solid rgba(255, 255, 255, 0.3); transition: width 0.2s, height 0.2s, background-color 0.2s; will-change: transform; }
      body.hovered .cursor-outline { width: 60px; height: 60px; background-color: rgba(255, 255, 255, 0.05); border-color: rgba(255, 255, 255, 0.5); backdrop-filter: blur(2px); }
    }
    @media (hover: none) or (pointer: coarse) {
      .cursor-dot, .cursor-outline { display: none !important; }
    }
    .fade-enter { opacity: 0; transform: translateY(20px); transition: opacity 0.7s ease-out, transform 0.7s ease-out; }
    .fade-enter-active { opacity: 1; transform: translateY(0); }
    .shimmer { animation: shimmer 2s infinite linear; background: linear-gradient(to right, #1f2937 4%, #374151 25%, #1f2937 36%); background-size: 1000px 100%; }
    @keyframes shimmer { 0% { background-position: -1000px 0; } 100% { background-position: 1000px 0; } }
  </style>
  <script type="importmap">
  { "imports": { "react-dom/client": "https://aistudiocdn.com/react-dom@^19.1.1/client", "react": "https://aistudiocdn.com/react@^19.1.1", "lucide-react": "https://aistudiocdn.com/lucide-react@^0.544.0" } }
  </script>
</head>
<body>
  <div id="root"></div>
  <div class="glow-overlay"></div>
  <div class="noise-overlay"></div>
  <div class="grid-overlay"></div>
  <script type="module">
    import React from 'react';
    import ReactDOM from 'react-dom/client';
    import { Music, Disc3, Laptop, Github, Send, Zap, Users, Code2, Map, CheckCircle2, Loader, ArrowRight } from 'lucide-react';

    const { useState, useEffect, useMemo, useRef } = React;
    const GITHUB_API_URL = 'https://api.github.com/repos/iamvany30/unisound-desktop';

    const useOnScreen = (ref) => {
      const [isIntersecting, setIntersecting] = useState(false);
      useEffect(() => {
        const observer = new IntersectionObserver(([entry]) => { if (entry.isIntersecting) setIntersecting(true); }, { threshold: 0.1 });
        if (ref.current) observer.observe(ref.current);
        return () => { if (ref.current) observer.unobserve(ref.current); };
      }, [ref]);
      return isIntersecting;
    };

    const FadeIn = ({ children, delay = 0 }) => {
        const ref = useRef(null);
        const onScreen = useOnScreen(ref);
        return React.createElement('div', { ref: ref, className: `fade-enter ${onScreen ? 'fade-enter-active' : ''}`, style: { transitionDelay: `${delay}ms` } }, children);
    };

    const CustomCursor = () => {
      const dotRef = useRef(null);
      const outlineRef = useRef(null);
      const [visible, setVisible] = useState(false);

      useEffect(() => {
        if (!window.matchMedia("(hover: hover) and (pointer: fine)").matches) return;
        setVisible(true);
        const move = (e) => {
            if (dotRef.current) dotRef.current.style.transform = `translate(${e.clientX}px, ${e.clientY}px) translate(-50%, -50%)`;
            if (outlineRef.current) outlineRef.current.animate({ left: `${e.clientX}px`, top: `${e.clientY}px` }, { duration: 400, fill: "forwards" });
        };
        const over = (e) => { if (e.target.closest('a, button')) document.body.classList.add('hovered'); };
        const out = () => document.body.classList.remove('hovered');
        window.addEventListener('mousemove', move);
        window.addEventListener('mouseover', over);
        window.addEventListener('mouseout', out);
        return () => { window.removeEventListener('mousemove', move); window.removeEventListener('mouseover', over); window.removeEventListener('mouseout', out); };
      }, []);

      if (!visible) return null;
      return React.createElement(React.Fragment, null, React.createElement('div', { ref: dotRef, className: "cursor-dot" }), React.createElement('div', { ref: outlineRef, className: "cursor-outline" }));
    };

    const getLatestRelease = async () => {
      try {
        const r = await fetch(`${GITHUB_API_URL}/releases/latest`);
        return r.ok ? await r.json() : null;
      } catch { return null; }
    };

    const getRecentReleases = async () => {
      try {
        const r = await fetch(`${GITHUB_API_URL}/releases`);
        return r.ok ? await r.json() : [];
      } catch { return []; }
    };

    const Header = () => (
      React.createElement('header', { className: "fixed top-0 left-0 w-full z-50 pointer-events-none" },
        React.createElement('div', { className: "absolute inset-0 bg-gradient-to-b from-[#050911] via-[#050911]/80 to-transparent h-24" }),
        React.createElement('div', { className: "max-w-4xl mx-auto px-4 py-4 pointer-events-auto" },
             React.createElement('div', { className: "flex items-center justify-between p-2 pl-4 pr-2 rounded-2xl bg-white/5 backdrop-blur-xl border border-white/10 shadow-lg" },
                React.createElement('div', { className: "flex items-center gap-2" },
                    React.createElement('div', { className: "w-8 h-8 flex items-center justify-center bg-blue-500/20 rounded-lg" }, React.createElement(Music, { className: "text-blue-400", size: 18 })),
                    React.createElement('span', { className: "text-lg font-bold text-white" }, "Unisound")
                ),
                React.createElement('div', { className: "flex items-center gap-2" },
                    React.createElement('a', { href: "https://t.me/iamvany20", target: "_blank", className: "flex items-center justify-center w-9 h-9 sm:w-auto sm:px-4 text-white bg-[#24A1DE]/10 border border-[#24A1DE]/20 rounded-xl hover:bg-[#24A1DE]/20 transition-all active:scale-95" },
                        React.createElement(Send, { size: 18, className: "text-[#24A1DE] sm:mr-2" }), React.createElement('span', { className: "hidden sm:inline text-sm font-semibold" }, "Telegram")
                    ),
                    React.createElement('a', { href: "https://github.com/iamvany30/unisound-desktop", target: "_blank", className: "flex items-center justify-center w-9 h-9 sm:w-auto sm:px-4 text-white bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition-all active:scale-95" },
                        React.createElement(Github, { size: 18, className: "sm:mr-2" }), React.createElement('span', { className: "hidden sm:inline text-sm font-semibold" }, "GitHub")
                    )
                )
            )
        )
      )
    );

    const SpotlightCard = ({ children, className = "", spotlightColor = "rgba(59, 130, 246, 0.15)", tilt = true }) => {
      const ref = useRef(null);
      const [pos, setPos] = useState({ x: 0, y: 0 });
      const [op, setOp] = useState(0);

      const move = (e) => {
        if (!ref.current || window.matchMedia("(hover: none)").matches) return;
        const r = ref.current.getBoundingClientRect();
        const x = e.clientX - r.left;
        const y = e.clientY - r.top;
        setPos({ x, y });
        setOp(1);
        if (tilt) ref.current.style.transform = `perspective(1000px) rotateX(${((y/r.height)-0.5)*-2}deg) rotateY(${((x/r.width)-0.5)*2}deg) scale3d(1.01,1.01,1.01)`;
      };
      const leave = () => {
        setOp(0);
        if (ref.current && tilt) ref.current.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg) scale3d(1,1,1)`;
      };

      return React.createElement('div', { ref: ref, onMouseMove: move, onMouseLeave: leave, className: `relative overflow-hidden rounded-3xl border border-white/10 bg-[#0d1117]/60 backdrop-blur-md shadow-2xl transition-transform duration-300 ease-out ${className}` },
        React.createElement('div', { className: "pointer-events-none absolute -inset-px transition-opacity duration-300", style: { background: `radial-gradient(600px circle at ${pos.x}px ${pos.y}px, ${spotlightColor}, transparent 40%)`, opacity: op } }),
        React.createElement('div', { className: "relative z-10 h-full" }, children)
      );
    };

    const Hero = () => React.createElement('section', { className: "pt-32 pb-12 px-4 flex flex-col items-center text-center" },
        React.createElement(FadeIn, null,
            React.createElement(SpotlightCard, { className: "p-8 sm:p-14 max-w-4xl border-white/10 bg-[#0d1117]/80" },
                React.createElement('h1', { className: "text-4xl sm:text-6xl md:text-7xl font-black text-white drop-shadow-lg leading-tight mb-6" },
                    "Ваша музыка.", React.createElement('br'), React.createElement('span', { className: "text-gradient" }, "Ваши правила.")
                ),
                React.createElement('p', { className: "max-w-xl mx-auto text-base sm:text-xl text-gray-300 font-light" }, "Бесконечный плейлист без пауз, рекламы и подписок. Свобода, которую вы искали.")
            )
        )
    );

    const Features = () => {
      const list = [
        { Icon: Zap, t: "Свобода", d: "Никаких подписок. Один поток. Без рекламы." },
        { Icon: Users, t: "Сообщество", d: "Делитесь звуком. Находите свою аудиторию." },
        { Icon: Code2, t: "API", d: "Открытый API для ваших смелых идей." }
      ];
      return React.createElement('section', { className: "max-w-6xl mx-auto px-4 mb-16 space-y-6" },
        React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-3 gap-4" },
          list.map((i, k) => React.createElement(FadeIn, { key: k, delay: k * 100 },
             React.createElement(SpotlightCard, { className: "p-6 h-full bg-white/[0.02]", tilt: false },
                React.createElement('div', { className: "p-3 bg-blue-500/10 rounded-xl mb-4 w-fit text-blue-400" }, React.createElement(i.Icon, { size: 24 })),
                React.createElement('h3', { className: "text-lg font-bold text-white mb-2" }, i.t),
                React.createElement('p', { className: "text-gray-400 text-sm" }, i.d)
             )
          ))
        ),
        React.createElement(FadeIn, { delay: 200 },
            React.createElement(SpotlightCard, { className: "p-6 sm:p-10", spotlightColor: "rgba(168,85,247,0.15)" },
                React.createElement('div', { className: "flex flex-col lg:flex-row gap-8" },
                    React.createElement('div', { className: "lg:w-1/3" },
                        React.createElement('h3', { className: "text-2xl font-bold text-white mb-2 flex items-center gap-2" }, React.createElement(Map, { className: "text-purple-400" }), "Планы"),
                        React.createElement('p', { className: "text-gray-400 text-sm mb-3" }, "Мы активно работаем над ядром."),
                        React.createElement('span', { className: "text-xs font-mono text-purple-300 bg-purple-500/10 px-2 py-1 rounded border border-purple-500/20" }, "Status: Active")
                    ),
                    React.createElement('div', { className: "lg:w-2/3 grid grid-cols-1 sm:grid-cols-2 gap-3" },
                        ["Оптимизация плеера", "Переход на Electron", "Сборки .exe / .app", "Бэкенд v2", "AI рекомендации"].map((t, i) =>
                            React.createElement('div', { key: i, className: "flex items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/5" },
                                React.createElement(CheckCircle2, { size: 16, className: "text-gray-500" }), React.createElement('span', { className: "text-gray-200 text-sm" }, t)
                            )
                        )
                    )
                )
            )
        )
      );
    };

    const ImageSkeleton = () => {
        const [loaded, setLoaded] = useState(false);
        return React.createElement(FadeIn, null,
            React.createElement('div', { className: "w-full max-w-5xl mx-auto mb-20 px-4" },
                React.createElement('div', { className: "relative rounded-xl border border-white/10 bg-[#0d1117] shadow-2xl overflow-hidden" },
                    React.createElement('div', { className: "absolute top-0 w-full h-8 bg-white/5 border-b border-white/5 flex items-center px-4 gap-2 z-10 backdrop-blur" },
                        React.createElement('span', { className: "w-2.5 h-2.5 rounded-full bg-[#ff5f56]" }),
                        React.createElement('span', { className: "w-2.5 h-2.5 rounded-full bg-[#ffbd2e]" }),
                        React.createElement('span', { className: "w-2.5 h-2.5 rounded-full bg-[#27c93f]" })
                    ),
                    React.createElement('div', { className: "relative w-full aspect-video pt-8 bg-[#0d1117]" },
                         !loaded && React.createElement('div', { className: "absolute inset-0 top-8 shimmer w-full h-full z-0" }),
                         React.createElement('img', {
                            src: "https://raw.githubusercontent.com/iamvany30/unisound-desktop/refs/heads/main/UniSound.png",
                            alt: "App Screenshot",
                            className: `absolute inset-0 top-8 w-full h-full object-cover transition-opacity duration-700 ${loaded ? 'opacity-100' : 'opacity-0'} z-10`,
                            onLoad: () => setLoaded(true)
                         })
                    )
                )
            )
        );
    };

    const DownloadCard = () => {
      const [latest, setLatest] = useState(null);
      const [all, setAll] = useState([]);
      const [loading, setLoading] = useState(true);
      const [os, setOs] = useState({ name: 'Windows', type: 'win' });

      useEffect(() => {
        const ua = navigator.userAgent;
        if (/Mac/i.test(ua)) setOs({ name: 'macOS', type: 'mac' });
        else if (/Linux/i.test(ua)) setOs({ name: 'Linux', type: 'linux' });
        Promise.all([getLatestRelease(), getRecentReleases()]).then(([l, a]) => { setLatest(l); setAll(a || []); setLoading(false); });
      }, []);

      const getUrl = (ext) => all.find(r => r.assets?.find(a => a.name.endsWith(ext)))?.assets.find(a => a.name.endsWith(ext))?.browser_download_url;
      const downloads = { win: getUrl('.exe'), deb: getUrl('.deb'), appImage: getUrl('.AppImage') };

      const Btn = ({ label, sub, url, primary }) => React.createElement('a', {
        href: url || '#', target: "_blank",
        className: `flex items-center gap-4 w-full px-5 py-4 rounded-xl border transition-all active:scale-95 ${primary ? 'bg-blue-600 border-blue-500 text-white shadow-lg shadow-blue-900/40' : 'bg-white/5 border-white/10 text-gray-200 hover:bg-white/10'} ${!url && 'opacity-50 pointer-events-none'}`
      },
        React.createElement(Laptop, { size: 20 }),
        React.createElement('div', { className: "flex flex-col text-left" }, React.createElement('span', { className: "font-semibold text-sm" }, label), React.createElement('span', { className: "text-xs opacity-70 font-mono" }, sub)),
        primary && React.createElement('span', { className: "ml-auto text-[10px] font-bold bg-white/20 px-2 py-1 rounded" }, "BEST")
      );

      return React.createElement(FadeIn, null,
          React.createElement(SpotlightCard, { className: "p-6 sm:p-10 max-w-2xl mx-auto w-full mb-12", spotlightColor: "rgba(99,102,241,0.2)" },
             React.createElement('div', { className: "flex gap-5 items-center mb-6" },
                React.createElement('div', { className: "p-3 rounded-2xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-white/10 text-white" }, React.createElement(Disc3, { size: 32 })),
                React.createElement('div', null,
                   React.createElement('h2', { className: "text-2xl font-bold text-white" }, "Скачать"),
                   latest && React.createElement('div', { className: "flex items-center gap-2 mt-1" },
                      React.createElement('span', { className: "px-2 py-0.5 rounded text-xs font-mono bg-emerald-500/10 text-emerald-400 border border-emerald-500/20" }, latest.tag_name)
                   )
                )
             ),
             loading ? React.createElement('div', { className: "py-8 flex justify-center text-blue-400" }, React.createElement(Loader, { className: "animate-spin" })) :
             React.createElement('div', { className: "space-y-3" },
                React.createElement(Btn, { label: "Windows", sub: ".exe Installer", url: downloads.win, primary: os.type === 'win' }),
                React.createElement(Btn, { label: "Linux (Debian)", sub: ".deb Package", url: downloads.deb, primary: os.type === 'linux' }),
                React.createElement(Btn, { label: "Linux (Portable)", sub: ".AppImage", url: downloads.appImage })
             )
          )
      );
    };

    const App = () => React.createElement('div', { className: "min-h-screen w-full flex flex-col" },
      React.createElement(CustomCursor), React.createElement(Header),
      React.createElement('main', { className: "flex-grow w-full" }, React.createElement(Hero), React.createElement(ImageSkeleton), React.createElement(Features), React.createElement(DownloadCard)),
      React.createElement('footer', { className: "py-8 text-center text-gray-600 text-xs border-t border-white/5 bg-[#050911]" }, `© ${new Date().getFullYear()} Unisound. Open Source.`)
    );

    ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(App));
  </script>
</body>
</html>
